<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <title>我的导航</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header></header>
    <main>
        <div id="main">
        </div>
    </main>
    <footer></footer>
</body>
<script>
    var keys={
        0: ['q','w','e','r','t','y','u','i','o','p'],
        1: ['a','s','d','f','g','h','j','k','l'],
        2: ['z','x','c','v','b','n','m'],
        length: 3
    }
    
    var hash={
        q: 'qq.com',
        w: 'weibo.com',
    }

    var hashInLocalStorage=JSON.parse(localStorage.getItem('hash')||'null')
    if(hashInLocalStorage){
        hash=hashInLocalStorage
    }

    var index =0
    while(index<keys.length){
        var div1 = document.createElement('div')
        main.appendChild(div1)
        for(var i=0;i<keys[index].length;i++){
            var kbd = document.createElement('kbd')
            kbd.textContent = keys[index][i]

            var button = document.createElement('button')
            button.id=keys[index][i]
            button.textContent='编辑'
            button.onclick=function(param){
                var key=param.target.id
                hash[key]=prompt('请输入网址')
                localStorage.setItem('webSiteList',JSON.stringify(hash))
            }

            div1.appendChild(kbd)
            kbd.appendChild(button)
        }
        index++
    }


    document.onkeypress = function(param){
        var key = param['key']
        website = hash[key]
        //模拟地址栏输入
        // location.href = 'http://'+website
        //窗口打开
        if(!!website){
            window.open('http://'+website,'_blank')
        } 
    }
</script>
</html>